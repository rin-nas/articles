
# Сравнение SQL шаблонизатора vs ORM или QueryBuilder

## Введение
* Принцип [KISS](https://ru.wikipedia.org/wiki/KISS_(%D0%BF%D1%80%D0%B8%D0%BD%D1%86%D0%B8%D0%BF)) утверждает, что большинство систем работают лучше всего, если они остаются простыми, а не усложняются. Поэтому в области проектирования простота должна быть одной из ключевых целей, и следует избегать ненужной сложности. 
* По [ORM](https://ru.wikipedia.org/wiki/ORM) ознакомьтесь [с этой статьёй на Хабре](https://m.habr.com/company/pgdayrussia/blog/328690/).
* По QueryBuilder ознакомьтесь с разделом документации [Laravel](http://laravel.su/docs/5.5/queries) и/или [Doctrine](https://www.doctrine-project.org/projects/doctrine-orm/en/2.6/reference/query-builder.html).

## Сокращения
* ORM — Object-Relational Mapping
* QB — QueryBuilder

## Таблица сравнения
Критерий | SQL шаблонизатор | ORM или QueryBuilder
---------|------------------------|---------------------
Порог вхождения программиста перед началом работы| Меньше. Достаточно изучить десять простых типов меток-заменителей и одно правило условного блока| Больше. Нужно изучить десятки методов с их параметрами
Перегенерация моделей каждый раз при изменении схемы БД| Не нужно | Нужно. Это занимает лишнее время, в логике генератора могут быть ошибки.
Скорость генерации SQL | Быстрее. Простой парсер без использования регулярных выражений работает очень быстро. Парсер на базе рег. выражений работает не медленнее ORM или QB | Медленнее. Ещё один слой абстакции с дополнительной логикой, которая может содержать ошибки
Размер исходного кода | 5K - 10К | 50К и более | 
Оптимальность генерации sql | Да. Выполяется именно тот запрос, который задумал разработчик. | Нет. Вместо 1 sql запроса их может быть десятки, что плохо сказывается на общем времени выполнения
Быстрое создание нового запроса | Да. Только расстановка меток-заменителей в SQL запросе | Нет. Необходимо переписывать SQL запрос после его создания в набор методов ORM/QB, это лишние затраты времени
Быстрые правки в логике запроса | Да. В любом месте можно дописать сколько угодно сложный SQL код. | Нет. При усложнении логики возможностей ORM уже не хватает и тогда нужно переписывать обратно в SQL. Запрос в QB может стать слабо читабельным и трудноподдерживаемым.
